{"version":3,"sources":["icons sync //.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NotesSection.tsx","views/Money/CategorySection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection/generateOutput.tsx","views/Money/NumberPadSection.tsx","hooks/useRecords.tsx","views/Money.tsx","lib/transfromDate.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","views/Tags.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","toString","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","JSON","parse","length","stringify","findTag","filter","tag","updateTag","findTagIndex","result","i","deleteTag","addTag","tagName","prompt","getName","t","section","TagsSection","selectedTagIds","value","key","onClick","tagId","indexOf","onChange","Label","label","Input","NotesSection","note","type","placeholder","target","CategorySection","categoryMap","categoryList","category","c","generateOutput","text","output","slice","NumberPadSection","_setOutput","textContent","split","concat","newOutput","parseFloat","setOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","obj","transfromDate","string","day","dayjs","now","isSame","subtract","format","Item","Header","h3","Statistics","setCategroy","hash","r","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","TagList","ol","Tags","NoMatch","Topbar","header","Inputwrapper","Tag","useParams","history","useHistory","goBack","tagConent","AppWrapper","App","path","exact","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c9748b9.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./tag.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M274.432 569.856v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0zm-37.888-163.84L460.8 249.344l133.12 145.408a29.184 29.184 0 007.168 5.12h4.096l9.216 9.728h10.24a28.672 28.672 0 008.192-3.584l235.52-164.352a29.696 29.696 0 00-34.304-51.2l-217.6 153.6-128.512-153.6a29.696 29.696 0 00-38.4-4.096 28.672 28.672 0 00-7.68 3.072L204.8 358.4a29.696 29.696 0 0034.304 51.2zm201.728 48.64v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm326.144 0v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm-162.304 115.2v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0z\\\" /><path d=\\\"M930.304 841.216H137.728v-632.32a29.696 29.696 0 10-59.904 0V870.4a30.208 30.208 0 0029.696 29.696h822.784a29.696 29.696 0 000-59.904z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M723.413 895.701a44.203 44.203 0 01-27.392-9.6L272.213 545.195a43.733 43.733 0 010-68.267L694.23 138.027a43.733 43.733 0 0154.699 68.266L369.323 511.104l381.525 306.901a43.648 43.648 0 01-27.392 77.696z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M441.186 759.832H208.598c-3.389-10.102-5.067-24.432-5.067-42.974 0-7.584.42-15.169 1.259-22.753.839-7.585 2.113-14.75 3.807-21.495h232.588V561.358H208.597c-3.389-10.102-5.067-24.431-5.067-42.974 0-7.584.42-15.17 1.259-22.754.839-7.584 2.113-14.749 3.807-21.494h182.03L158.024 64.556c10.94-1.679 22.946-2.938 36.018-3.777 13.07-.839 25.497-1.275 37.309-1.275 11.78 0 23.996.436 36.647 1.275 12.636.84 24.012 2.098 34.13 3.776l207.317 381.777 203.54-381.777a428.914 428.914 0 0133.486-3.776 472.535 472.535 0 0134.776-1.275c11.78 0 23.576.436 35.389 1.275 11.796.84 22.753 2.098 32.871 3.776l-228.81 409.582h192.146c2.518 11.812 3.793 25.287 3.793 40.456 0 18.542-1.275 34.13-3.793 46.766H570.14V672.61h242.705c2.518 11.813 3.793 25.287 3.793 40.455 0 18.543-1.275 34.132-3.793 46.767H570.14v198.473c-10.119 1.678-20.657 2.953-31.614 3.791a430.317 430.317 0 01-32.871 1.259 430.37 430.37 0 01-32.873-1.259c-10.957-.838-21.494-2.113-31.596-3.791V759.832z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M317.82 939.198a38.836 38.836 0 01-27.574-66.41L651.422 512 290.246 151.212a38.991 38.991 0 0155.147-55.147l388.361 388.361a38.836 38.836 0 010 55.148L345.393 927.935a38.836 38.836 0 01-27.574 11.263z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M979.383 401.554L953.05 117.03c-7.314-21.943-24.137-38.766-46.08-46.08L622.446 44.617a73.874 73.874 0 00-74.606 17.554L62.171 547.84a72.85 72.85 0 000 103.131l310.126 310.126c28.526 28.526 74.606 28.526 103.132 0L960.366 476.16c20.48-19.749 27.794-48.274 19.017-74.606zM747.52 276.48a55.15 55.15 0 010-77.531c21.211-21.212 56.32-21.212 77.531 0 21.212 21.211 21.212 56.32 0 77.531-21.211 21.211-55.588 21.211-77.531 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/*\n * @Author: H.\n * @Date: 2021-12-23 08:44:47\n * @LastEditTime: 2021-12-23 14:28:52\n * @Description: \n */\nimport React from 'react';\nimport classnames from 'classnames'\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & React.SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n  const {name,children,className, ...rest} = props\n  return (\n    <svg className={classnames('icon', className)} {...rest}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  );\n};\n\nexport default Icon;\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-21 08:44:14\n * @Description:\n */\nimport styled from 'styled-components'\nimport { NavLink } from 'react-router-dom'\nimport React from 'react'\nimport Icon from './Icon'\n\nconst NavWrapper = styled.nav`\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n  background: #fff;\n  > ul {\n    display: flex;\n    > li {\n      width: 33.3333%;\n      text-align: center;\n      > a {\n        display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n        color: #ccc;\n        .icon {\n          width: 24px;\n          height: 24px;\n          fill: #ccc;\n        }\n        &.selected {\n          color: #333;\n          .icon {\n            fill: #333;\n          }\n        }\n      }\n    }\n  }\n`\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\n            <Icon name=\"tag\" />\n            标签\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\" />\n            记一笔\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name=\"chart\" />\n            统计\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  )\n}\n\nexport default Nav\n","/*\n * @Author: H.\n * @Date: 2021-12-24 15:19:42\n * @LastEditTime: 2021-12-24 15:45:10\n * @Description: \n */\nimport Nav from './Nav';\nimport React,{ useEffect, useRef } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display:flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n  &::webkit-scrollbar: {\n    display: none;\n  }\n`;\n\ntype Props = {\n  className?: string\n  scrollTop?: number\n}\nconst Layout: React.FC<Props> = (props) => {\n  const mainRef = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    setTimeout(() => {\n      if(!mainRef.current) return\n      mainRef.current.scrollTop = props.scrollTop!\n    }, 0)\n  }, [props.scrollTop])\n  return (\n    <Wrapper>\n      <Main ref={mainRef} className={props.className}>\n        {props.children}\n      </Main>\n      <Nav/>\n    </Wrapper>\n  );\n};\nLayout.defaultProps = {\n  scrollTop: 0\n}\nexport default Layout;\n","/*\n * @Author: H.\n * @Date: 2021-12-23 08:44:47\n * @LastEditTime: 2021-12-23 15:20:45\n * @Description: \n */\nlet id = parseInt(window.localStorage.getItem('idMax') || '0');\nconst createId = () => {\n    id += 1;\n    window.localStorage.setItem('idMax', id.toString())\n    return id\n}\n\nexport {createId}","   \nimport {useEffect, useRef} from 'react';\nexport const useUpdate = (fn: () => void, dependency:any[]) => {\n  const count = useRef(0);\n  useEffect(() => {\n    count.current += 1;\n  });\n  useEffect(() => {\n    if (count.current > 1) {\n      fn();\n    }\n\n  }, [fn,dependency]); // 不可变数据\n};","/*\n * @Author: H.\n * @Date: 2021-12-22 18:26:01\n * @LastEditTime: 2021-12-23 19:20:14\n * @Description: \n */\n\nimport { createId } from \"lib/createId\";\nimport { useEffect, useState } from \"react\";\nimport { useUpdate } from \"./useUpdate\";\n\nconst useTags = () => {\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([])\n  useEffect(() => {\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\n    if (localTags.length === 0) {\n      localTags = [\n        { id: createId(), name: '衣' },\n        { id: createId(), name: '食' },\n        { id: createId(), name: '住' },\n        { id: createId(), name: '行' }\n      ]\n    }\n    setTags(localTags)\n  }, [])\n\n  useUpdate(() => {\n    window.localStorage.setItem('tags', JSON.stringify(tags))\n  }, tags) // 组件挂载时执行\n\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0]\n  const findTagIndex = (id: number) => {\n    let result = -1\n    for (let i = 0; i < tags.length; i++) {\n      if (tags[i].id === id) {\n        result = i\n        break\n      }\n    }\n    return result\n  }\n  const updateTag = (id: number, { name }: { name: string }) => {\n    setTags(tags.map(tag => tag.id === id ? { id, name } : tag))\n  }\n\n  const deleteTag = (id: number) => {\n    setTags(tags.filter(tag => tag.id !== id))\n  }\n  const addTag = () => {\n    const tagName = window.prompt('请输入新标签的名称')\n    if (tagName !== null && tagName !== '') {\n      setTags([...tags, { id: createId(), name: tagName }])\n    }\n  }\n  const getName = (id: number) => {\n    const tag = tags.filter(t => t.id === id)[0]\n    return tag.name ?? ''\n  }\n  return {\n    tags,\n    setTags,\n    findTag,\n    updateTag,\n    findTagIndex,\n    deleteTag,\n    addTag,\n    getName\n  }\n}\n\nexport { useTags }\n\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-23 14:41:34\n * @Description: \n */\nimport { useTags } from \"hooks/useTags\";\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.section`\n  padding: 12px 16px;\n  background: #FFFFFF;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n    > ol {\n    margin: 0 -12px;\n      > li {\n        background: #D9D9D9;\n        border-radius: 18px;\n        display: inline-block;\n        padding: 3px 18px;\n        font-size: 14px;\n        margin: 8px 12px;\n        &.selected {\n          background: #f60;\n          color: #fff;\n        }\n          }\n         \n  }\n  > button{\n      background: none;\n      border: none;\n      border-bottom: 1px solid;\n      padding: 2px 4px #333;\n      color: #666;\n      margin-top: 8px\n  }\n`\ntype Props = {\n  value: number[]; // 选中的标签\n  onChange: (selected: number[]) => void // 父组件更新标签\n}\nconst TagsSection: React.FC<Props> = (props) => {\n  const {tags, addTag} = useTags()\n  const selectedTagIds = props.value\n \n\n  const onToggleTag = (tagId: number) => {\n    const index = props.value.indexOf(tagId)\n    if (index >= 0) {\n      props.onChange(selectedTagIds.filter(t => t !== tagId))\n    } else {\n      props.onChange([...selectedTagIds, tagId])\n    }\n  }\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : ''\n  return (\n    <Wrapper>\n      <ol>\n        {\n          tags.map(tag =>\n            <li key={tag.id}\n              onClick={() => { onToggleTag(tag.id) }}\n              className={getClass(tag.id)}\n            >{tag.name}</li>)}\n      </ol>\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  )\n}\n\nexport default TagsSection","import React from 'react'\nimport styled from 'styled-components'\n\nconst Label = styled.label`\n    display: flex;\n    align-items: center;\n    > span {\n      margin-right: 16px;\n      white-space: nowrap;\n    }\n    > input {\n      display: block;\n      width: 100%;\n      height: 44px;\n      background: none;\n      border: none;\n    }\n`\ntype Props = {\n    label: string;\n} & React.InputHTMLAttributes<HTMLInputElement>\nconst Input: React.FC<Props> = (props) => {\n    const {label,children, ...rest} = props\n    return (\n        <Label>\n        <span>{label}</span>\n        <input { ...rest } />\n      </Label>\n    )\n}\n\nexport default Input","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-21 15:13:28\n * @Description:\n */\nimport Input from 'components/Input'\nimport React from 'react'\nimport { ChangeEventHandler } from 'react-router/node_modules/@types/react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.section`\n  background: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n\n`\ntype Props = {\n  value: string;\n  onChange: (value: string) => void\n}\nconst NotesSection: React.FC<Props> = (props) => {\n  const note = props.value\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n  props.onChange(e.target.value)\n  }\n  return (\n    <Wrapper>\n      <Input label=\"备注\"  type=\"text\"\n          placeholder=\"在这里添加备注\"\n          value={note}\n          onChange={onChange} />\n    </Wrapper>\n  )\n}\nexport default NotesSection\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-23 16:40:02\n * @Description:\n */\nimport React, { useState } from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.section`\n  font-size: 24px;\n  > ul {\n    display: flex;\n    > li {\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n      &.selected::after {\n        content: '';\n        display: block;\n        height: 3px;\n        background: #333;\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        left: 0;\n      }\n    }\n  }\n`\ntype Props = {\n  value: '-' | '+';\n  onChange: (value: '-' | '+') => void\n}\nconst CategorySection: React.FC<Props> = (props) => {\n  const categoryMap = { '-': '支出', '+': '收入' }\n  type keys = keyof typeof categoryMap\n  const [categoryList] = useState<keys[]>(['-', '+'])\n  const category = props.value\n\n  return (\n    <Wrapper>\n      <ul>\n        {categoryList.map((c) => (\n          <li\n            className={category === c ? 'selected' : ''}\n            onClick={() => {\n              props.onChange(c)\n            }}\n            key={c}\n          >\n            {categoryMap[c]}\n          </li>\n        ))}\n      </ul>\n    </Wrapper>\n  )\n}\n\nexport default CategorySection\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.section`\ndisplay:flex;\nflex-direction: column;\n> .output{\n  background:white;\n  font-size: 36px;\n  line-height: 72px;\n  text-align:right;\n  padding: 0 16px;\n  box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\n              inset 0 5px 5px -5px rgba(0,0,0,0.25);\n}\n> .pad{ \n  > button{\n    font-size: 18px; float: left; width: 25%; height: 64px; border: none;\n    &.ok{ height: 128px; float: right; }\n    &.zero{ width: 50%; }\n    &:nth-child(1){\n      background:#f2f2f2;\n    }\n    &:nth-child(2),\n    &:nth-child(5) {\n      background:#E0E0E0;\n    }\n    &:nth-child(3),\n    &:nth-child(6),\n    &:nth-child(9) {\n      background:#D3D3D3;\n    }\n    &:nth-child(4),\n    &:nth-child(7),\n    &:nth-child(10) {\n      background:#C1C1C1;\n    }\n    &:nth-child(8),\n    &:nth-child(11),\n    &:nth-child(13) {\n      background:#B8B8B8;\n    }\n    &:nth-child(12) {\n      background:#9A9A9A;\n    }\n    &:nth-child(14) {\n      background:#A9A9A9;\n    }\n  }\n}\n`\n\nexport default Wrapper","const generateOutput = (text: string, output = '0') => {\n    switch (text) {\n        case '0':\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n            if (output === '0') {\n                return text\n            } else {\n                return output + text\n            }\n        case '.':\n            if (output.indexOf('.') >= 0) {return output}\n            return output + '.'\n        case '删除':\n            if (output.length === 1) {\n                return ''\n            } else {\n                return output.slice(0, -1) || '0'\n            }\n        case '清空':\n            return ('')\n        default:\n            return ''\n    }\n}\n\nexport default generateOutput","import React, { useState } from 'react'\nimport Wrapper from \"./NumberPadSection/Wrapper\";\nimport generateOutput from './NumberPadSection/generateOutput'\n\ntype Props = {\n  value: number;\n  onChange: (value: number) => void;\n  onOk: () => void\n}\n\nconst NumberPadSection: React.FC<Props> = (props) => {\n  const [output,_setOutput] = useState(props.value.toString())\n  const setOutput = (output: string) => {\n    let newOutput: string\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16)\n    } else if (output.length === 0) {\n      newOutput = '0'\n    } else {\n      newOutput = output\n    }\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput))\n  }\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent\n    if (text === null) { return }\n    if (text === 'OK') {\n      props.onOk()\n      return\n    }\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n      setOutput(generateOutput(text, output))\n    }\n\n  }\n  return (\n    <Wrapper>\n      <div className=\"output\">{output}</div>\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">OK</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n      </div>\n    </Wrapper>\n  )\n}\nexport default NumberPadSection","import { useEffect, useState } from \"react\"\nimport { useUpdate } from \"./useUpdate\"\n\n/*\n * @Author: H.\n * @Date: 2021-12-23 15:49:08\n * @LastEditTime: 2021-12-23 19:20:07\n * @Description: \n */\nexport type RecordItem = {\n  tagIds: number[]\n  note: string\n  category: '+' | '-'\n  amount: number\n  createdAt: string // ISO 8601\n}\n\ntype newRecordItem = Omit<RecordItem, 'createdAt'> // 不要RecordItem里的createdAt类型\nconst useRecords = () => {\n  const [records, setRecords] = useState<RecordItem[]>([])\n  useEffect(() => {\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\n  }, [])\n  useUpdate(() => {\n    window.localStorage.setItem('records', JSON.stringify(records))\n  }, records)\n  const addRecord = (newRecord: newRecordItem) => {\n    if(newRecord.amount <= 0) {\n        alert('金额不能为0')\n        return false\n    }\n    if(newRecord.tagIds.length === 0) {\n      alert('请至少选择一个标签')\n      return false\n    }\n    const record = {...newRecord, createdAt: (new Date().toISOString())}\n    setRecords([...records, record])\n    return true\n  }\n  return { records, addRecord }\n}\n\nexport default useRecords\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-23 16:41:14\n * @Description: \n */\nimport Layout from '../components/Layout';\nimport React, { useState } from 'react';\nimport TagsSection from './Money/TagsSection';\nimport NotesSection from './Money/NotesSection';\nimport CategorySection from './Money/CategorySection';\nimport NumberPadSection from './Money/NumberPadSection';\nimport styled from 'styled-components';\nimport useRecords from 'hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\ndisplay: flex;\nflex-direction: column;\n`\nconst CategoryWrapper = styled.div`\nbackground: #c4c4c4\n`\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as \"-\" | \"+\",\n  amount: 0\n}\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData)\n\n  // Partial --> 包含typeof selected部分类型\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({ ...selected, ...obj })\n  }\nconst {addRecord} = useRecords()\n\n  const submit = () => {\n    if(addRecord(selected)) alert('保存成功')\n    setSelected(defaultFormData)\n  }\n  return (\n    <MyLayout scrollTop={9999}>\n      <TagsSection value={selected.tagIds}\n        onChange={(tagIds) => onChange({ tagIds })}>\n      </TagsSection>\n      <NotesSection value={selected.note}\n        onChange={(note) => onChange({ note })}>\n      </NotesSection>\n      <CategoryWrapper>\n      <CategorySection value={selected.category}\n        onChange={(category) => onChange({ category })}>\n      </CategorySection>\n      </CategoryWrapper>\n      <NumberPadSection value={selected.amount}\n        onOk={submit}\n        onChange={(amount) => onChange({ amount })}>\n      </NumberPadSection>\n    </MyLayout>\n  );\n}\n\nexport default Money;\n","import dayjs from \"dayjs\"\n\n/*\n * @Author: H.\n * @Date: 2021-12-23 18:53:36\n * @LastEditTime: 2021-12-23 18:53:37\n * @Description: \n */\nconst transfromDate = (string: string) => {\n  const day = dayjs(string)\n  const now = dayjs()\n  // isSame 是同样的\n  if (day.isSame(now, 'day')) {\n    return '今天'\n    // subtract 减去\n  } else if (day.isSame(now.subtract(1, 'day'), 'day')) {\n    return '昨天'\n  } else if (day.isSame(now.subtract(2, 'day'), 'day')) {\n    return '前天'\n  } else if (day.isSame(now, 'year')) {\n    return day.format('M月D日')\n  } else {\n    return day.format('YYYY年MM月DD日')\n  }\n}\n\nexport default transfromDate\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-24 17:12:37\n * @Description: \n */\nimport Layout from '../components/Layout';\nimport React, { ReactNode, useState } from 'react';\nimport CategorySection from './Money/CategorySection';\nimport styled from 'styled-components';\nimport useRecords, { RecordItem } from 'hooks/useRecords';\nimport { useTags } from 'hooks/useTags';\nimport day from 'dayjs'\n// import BaseEcharts from 'components/echarts/BaseEchart';\nimport transfromDate from 'lib/transfromDate';\nconst CategoryWrapper = styled.div`\nbackground: white\n`\nconst Item = styled.div`\ndisplay: flex;\njustify-content: space-between;\nbackground: white;\nfont-size: 18px;\nline-height: 20px;\npadding: 10px 16px;\n> .note {\n  margin-left: 16px;\n  margin-right: auto;\n  color: #999\n}\n`\nconst Header = styled.h3`\nfont-size: 18px;\nline-height: 20px;\npadding: 10px 16px;\n`\n\n\nfunction Statistics() {\n  const [category, setCategroy] = useState<'-' | '+'>('-')\n  const { records } = useRecords()\n  const { getName } = useTags()\n  const hash: { [k: string]: RecordItem[] } = {}\n  const selectedRecords = records.filter(r => r.category === category)\n  selectedRecords.forEach(r => {\n    const key = day(r.createdAt).format('YYYY-MM-DD')\n    if (!(key in hash)) {\n      hash[key] = []\n    }\n    hash[key].push(r)\n  })\n  const array = Object.entries(hash).sort((a,b) => {\n    if(a[0] === b[0]) return 0\n    if(a[0] > b[0]) return -1\n    if(a[0] < b[0]) return 1\n    return 0\n  })\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection value={category}\n          onChange={(value) => setCategroy(value)}>\n        </CategorySection>\n      </CategoryWrapper>\n      <div>\n        {array.map(([date,records]) => <div key={date}>\n          <Header >{transfromDate(date)}</Header>\n          {records.map(r => {\n          return <Item key={r.createdAt}>\n            <div className='tags'>\n              {r.tagIds\n              .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n              .reduce((result,span,index,array) => \n                result.concat(index < array.length - 1 ? [span, '，'] : [span])\n              , [] as ReactNode[])}\n            </div>\n            {r.note && <div className='note oneLine'>\n              {r.note}\n            </div>}\n            <div className='amount'>\n              ￥{r.amount}\n            </div>\n          </Item>\n        })}\n          </div>)}\n      </div>\n    </Layout>\n  );\n}\n\n\nexport default Statistics;\n","import styled from \"styled-components\"\n\nconst Button = styled.button`\n  font-size: 18px;\n  border: none;\n  padding: 6px 10px;\n  border-radius: 4px;\n  background: #f60;\n  color: white;\n`\n\nexport default Button","import styled from \"styled-components\";\n\nconst Center = styled.div`\nmargin-top: 60px;\nmargin-bottom: 60px;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nflex-direction: column;\n`\n\nexport default Center","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-23 15:29:53\n * @Description: \n */\nimport Layout from '../components/Layout';\nimport React from 'react';\nimport { useTags } from 'hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from 'components/Icon';\nimport { Link } from 'react-router-dom';\nimport Button from 'components/Button';\nimport Center from 'components/Center';\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background: white;\n  padding-bottom: 10px;\n> li {\n  border-bottom: 1px solid #d5d5d9;\n  line-height: 20px;\n  margin-left: 16px;\n  > a {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 16px 10px 0;\n  }\n}\n`\n\nfunction Tags() {\n  const { tags,addTag } = useTags()\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className='oneLine'>{tag.name}</span>\n              <Icon name='right'></Icon>\n            </Link>\n          </li>)}\n      </TagList>\n      <Center>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n}\n\nexport default Tags;\n","import React from 'react';\n\nfunction NoMatch() {\n  return (\n    <div>页面不存在，你丫输错地址了吧！</div>\n  );\n}\n\nexport default NoMatch;\n","/*\n * @Author: H.\n * @Date: 2021-12-22 18:53:35\n * @LastEditTime: 2021-12-23 14:35:35\n * @Description: \n */\nimport Button from 'components/Button'\nimport Center from 'components/Center'\nimport Icon from 'components/Icon'\nimport Input from 'components/Input'\nimport Layout from 'components/Layout'\nimport { useTags } from 'hooks/useTags'\nimport React from 'react'\nimport { useParams,useHistory } from 'react-router'\nimport styled from 'styled-components'\n\ntype Params = {\n  id: string\n}\n\nconst Topbar = styled.header`\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nline-height: 20px;\npadding: 14px;\nbackground: white\n`\n\nconst Inputwrapper = styled.div`\nbackground: white;\npadding: 0 16px;\nmargin-top: 16px\n`\n\nconst Tag: React.FC = () => {\n  const { findTag, updateTag, deleteTag } = useTags()\n  const { id } = useParams<Params>()\n  const tag = findTag(parseInt(id))\n  const tagConent = (tag: { id: number, name: string }) => {\n  \n    return (\n      <>\n        <Inputwrapper>\n          <Input type=\"text\" value={tag.name} label=\"标签\"\n            placeholder=\"请输入标签名\"\n            onChange={(e) => { updateTag(tag.id, { name: e.target.value }) }} />\n        </Inputwrapper>\n        <Center>\n          <Button onClick={() => { deleteTag(tag.id) }}>删除标签</Button>\n        </Center>\n      </>\n    )\n  }\n  const history = useHistory()\n  const onClickBack = () => {\n    history.goBack()\n  }\n     return (\n    <Layout>\n      <Topbar>\n        <Icon name=\"left\" onClick={onClickBack} />\n        <span>编辑标签</span>\n        <Icon />\n      </Topbar>\n      {tag ? tagConent(tag) : <div>tag 不存在</div>}\n    </Layout>\n  )\n}\n\nexport default Tag\n","/*\n * @Author: H.\n * @Date: 2021-12-21 08:39:44\n * @LastEditTime: 2021-12-24 15:21:06\n * @Description: \n */\nimport React from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport Tag from 'views/Tag';\n\nconst AppWrapper = styled.div`\n   color: #333;\n    max-width: 500px;\n    margin: 0 auto;\n\n`\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route path=\"/tags\" exact>\n            <Tags />\n          </Route>\n          <Route path=\"/tags/:id\" exact>\n            <Tag />\n          </Route>\n          <Route path=\"/money\" exact>\n            <Money />\n          </Route>\n          <Route path=\"/statistics\" exact>\n            <Statistics />\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\" />\n          <Route path=\"*\">\n            <NoMatch />\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}